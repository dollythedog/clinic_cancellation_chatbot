# ============================================================================
# Clinic Cancellation Chatbot - Environment Configuration Template
# ============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit the .env file to version control
# ============================================================================

# ----------------------------------------------------------------------------
# DATABASE CONFIGURATION
# ----------------------------------------------------------------------------
DATABASE_URL=postgresql://username:password@localhost:5432/clinic_chatbot
# Format: postgresql://user:password@host:port/database
# Example for Windows local: postgresql://postgres:mypassword@localhost:5432/clinic_chatbot

# Connection pool settings (optional, for production)
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10

# ----------------------------------------------------------------------------
# TWILIO CONFIGURATION
# ----------------------------------------------------------------------------
# Get these from https://console.twilio.com/
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN={{TWILIO_AUTH_TOKEN}}
TWILIO_PHONE_NUMBER=+12145551234
# Use Messaging Service SID for better deliverability
TWILIO_MESSAGING_SERVICE_SID=MGxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Webhook URLs (will be your public tunnel URL)
# Example: https://your-domain.cloudflare-tunnel.com
TWILIO_WEBHOOK_BASE_URL=https://your-tunnel-url.com
TWILIO_WEBHOOK_SECRET={{TWILIO_WEBHOOK_SECRET}}

# ----------------------------------------------------------------------------
# APPLICATION SETTINGS
# ----------------------------------------------------------------------------
# Batch processing
BATCH_SIZE=3
# Number of patients to contact per batch

HOLD_MINUTES=7
# Minutes to wait for patient response before sending next batch

# Contact hours (Central Time)
CONTACT_HOURS_START=08:00
CONTACT_HOURS_END=20:00
# Do not send SMS outside these hours

# Time zone
TIMEZONE=America/Chicago
# Must be a valid IANA timezone name

# ----------------------------------------------------------------------------
# SECURITY
# ----------------------------------------------------------------------------
# API key for securing admin endpoints
API_KEY={{API_KEY}}

# JWT secret for session management (future use)
JWT_SECRET={{JWT_SECRET}}

# Webhook signature verification
WEBHOOK_SIGNATURE_ENABLED=true

# ----------------------------------------------------------------------------
# LOGGING
# ----------------------------------------------------------------------------
LOG_LEVEL=INFO
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL

LOG_FILE=data/logs/app.log
# Path to log file

LOG_MAX_BYTES=10485760
# 10MB max log file size before rotation

LOG_BACKUP_COUNT=5
# Number of rotated log files to keep

# ----------------------------------------------------------------------------
# FASTAPI SETTINGS
# ----------------------------------------------------------------------------
APP_NAME=Clinic Cancellation Chatbot
APP_VERSION=0.1.0
APP_HOST=0.0.0.0
APP_PORT=8000

# Enable debug mode (NEVER in production)
DEBUG=false

# CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:8501,http://localhost:3000

# ----------------------------------------------------------------------------
# STREAMLIT DASHBOARD
# ----------------------------------------------------------------------------
STREAMLIT_SERVER_PORT=8501
STREAMLIT_SERVER_ADDRESS=0.0.0.0
STREAMLIT_SERVER_HEADLESS=true

# ----------------------------------------------------------------------------
# DATA RETENTION
# ----------------------------------------------------------------------------
# Days to keep message bodies before archiving
MESSAGE_BODY_RETENTION_DAYS=90

# Days to keep inactive waitlist entries
WAITLIST_RETENTION_DAYS=180

# ----------------------------------------------------------------------------
# RATE LIMITING
# ----------------------------------------------------------------------------
# Max SMS messages per hour (safety limit)
MAX_SMS_PER_HOUR=100

# Max API requests per minute
API_RATE_LIMIT=60

# ----------------------------------------------------------------------------
# SCHEDULER SETTINGS (APScheduler)
# ----------------------------------------------------------------------------
# How often to check for expired hold timers (seconds)
HOLD_TIMER_CHECK_INTERVAL=30

# How often to recalculate waitlist priority scores (minutes)
PRIORITY_RECALC_INTERVAL=60

# ----------------------------------------------------------------------------
# MONITORING & ALERTING (optional)
# ----------------------------------------------------------------------------
# Slack webhook for alerts (optional)
SLACK_WEBHOOK_URL=

# Email for error notifications (optional)
ALERT_EMAIL=

# SMTP settings for email alerts (optional)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD={{SMTP_PASSWORD}}
SMTP_USE_TLS=true

# ----------------------------------------------------------------------------
# EXTERNAL INTEGRATIONS
# ----------------------------------------------------------------------------
# Greenway API settings (future use)
GREENWAY_API_URL=
GREENWAY_API_KEY={{GREENWAY_API_KEY}}

# Provider database connection (if separate from main DB)
PROVIDER_DB_URL=

# ----------------------------------------------------------------------------
# FEATURE FLAGS
# ----------------------------------------------------------------------------
# Enable/disable features for testing
ENABLE_SMS_SENDING=true
ENABLE_WEBHOOKS=true
ENABLE_AUTO_CONFIRMATION=true
ENABLE_PRIORITY_RECALC=true

# ----------------------------------------------------------------------------
# DEVELOPMENT SETTINGS
# ----------------------------------------------------------------------------
# Use mock Twilio client for testing (no real SMS sent)
USE_MOCK_TWILIO=false

# Seed database with test data on startup
SEED_TEST_DATA=false

# ----------------------------------------------------------------------------
# NOTES
# ----------------------------------------------------------------------------
# 1. Replace all {{PLACEHOLDER}} values with actual secrets
# 2. Keep this file secure - it contains sensitive credentials
# 3. Use Windows Credential Manager for production secrets
# 4. Never commit .env files to version control
# 5. Restart application after changing environment variables
# ============================================================================
